var foswiki=foswiki||{preferences:{}};(function($){$.log=function(message){};$.fn.debug=function(){};foswiki.getUniqueID=function(){var uid=(new Date).getTime().toString(32),i;for(i=0;i<5;i++){uid+=Math.floor(Math.random()*65535).toString(32)}return uid};foswiki.getPreference=function(key,useServer){var metaVal,scriptSuffix,restUrl;if(typeof foswiki.preferences[key]!=="undefined"){return foswiki.preferences[key]}metaVal=$('meta[name="foswiki.'+key+'"]').attr("content");if(typeof metaVal!=="undefined"){metaVal=unescape(metaVal);foswiki.preferences[key]=metaVal;return metaVal}if(useServer){scriptSuffix=foswiki.getPreference("SCRIPTSUFFIX");restUrl=foswiki.getPreference("SCRIPTURL")+"/view"+(scriptSuffix?scriptSuffix:"")+"/"+foswiki.getPreference("SYSTEMWEB")+"/JQueryAjaxHelper";$.ajax({url:restUrl,data:{skin:"text",section:"expand",expression:key},async:false,dataType:"text",success:function(data,status,xhr){foswiki.preferences[key]=data}});return foswiki.preferences[key]}foswiki.preferences[key]=null;return null};foswiki.getMetaTag=function(inKey){return $("meta[name="+inKey+"]").attr("content")};foswiki.getElementsByClassName=function(inRootElem,inClassName,inTag){var tag=inTag||"";return $(inRootElem).find(tag+"."+inClassName).get()};foswiki.post=function(script,hash){var scripturl=foswiki.getPreference("SCRIPTURLPATH");var scriptsuffix=foswiki.getPreference("SCRIPTSUFFIX");var inputs=$("input[name=validation_key]")[0];if(inputs){hash.validation_key=inputs.value}else{var req=new XMLHttpRequest;req.open("GET",document.location,false);req.send(null);var headers=req.getAllResponseHeaders().toLowerCase();hash.validation_key=req.getResponseHeader("X-Foswiki-Validation")}if(typeof StrikeOne==="object"){var calculateNewKey=StrikeOne["calculateNewKey"];if(typeof calculateNewKey==="function"){hash.validation_key=calculateNewKey(hash.validation_key)}}return $.post(scripturl+"/"+script+scriptsuffix+"/"+hash.web+"/"+hash.topic,hash).complete(function(jqXHR,status){var newKey=jqXHR.getResponseHeader("X-Foswiki-Validation");if(newKey){$("input[name=validation_key]").attr("value","?"+newKey)}}).error(function(event,data){if(event.status==419){var entirehtml=jQuery(event.responseText).filter(".foswikiMain");var last=entirehtml[0];var message=jQuery(last.innerHTML).filter(".container-fluid");message.dialog({height:410,width:600,modal:true,title:"confirm change"});jQuery(".s1js_available").show()}})};$(function(){$("body").removeClass("foswikiNoJs").addClass("foswikiJs")})})(jQuery);