###################################
### INSTALACIÓN DE DEPENDENCIAS	###
###################################
* sudo apt-get install git motion apache2 mysql-server php5 php5-mysql bc build-essential python-dev python-smbus vnstat
* sudo pip install --upgrade oauth2client PyOpenSSL gspread zipfile md5
* Adafruit_Python_DHT
	- git clone https://github.com/adafruit/Adafruit_Python_DHT.git
	- sudo python setup.py install
* Adafruit_Python_BMP
	- git clone https://github.com/adafruit/Adafruit_Python_BMP.git
	- sudo python setup.py install
* rclone 
	- http://downloads.rclone.org/rclone-current-linux-arm.zip
* ffmpeg (probar a usar avconv que está en los repositorios [libav-tools])
	- compilación en la RPi (see http://owenashurst.com/?p=242)
		* es necesario modificar el archivo autogen.sh de libaacplus para que no falle al no encontrar libtool (debe ser libtoolize)
* instalar la versión modificada de gmail-sender que está en el directorio bin
	- sudo python setup.py install
* instalar la API de gmail de https://github.com/charlierguo/gmail
	- git clone https://github.com/charlierguo/gmail
	- cd gmail
	- sudo python setup.py install
			


####################
### TABLAS MYSQL ###
####################
* crear base de datos a partir del archivo config/svvpa.sql
* crear usuario con permisos select, insert, update y poner user/pass en updateSensors.sh
* crear usuario con permiso select y poner user/pass en sensors.php



################################
### MODIFICACIÓN DE FICHEROS ###
################################
* copiar archivos www a la ruta default de apache2 (/var/www/)
* copiar ~/.rclone.conf
* copiar svvpa-81b7a04fc4c2.json para gspread
* copiar CONSTANTS.php.example a CONSTANTS.php y modificar a criterio
* copiar CONSTANTS.sh.example a CONSTANTS.sh y modificar a criterio
* modificar /etc/default/motion para que se inicie motion on startup
* Comprobar los paths de los scripts "on_evento" del fichero /etc/motion/motion.conf
* modificar archivo sudoers para que se pueda apagar y cambiar hora sin meter clave de sudo:
	- sudo visudo
	- User_Alias SVVPAWEB = www-data
	- User_Alias CRONUSER = pi
	- SVVPAWEB ALL = NOPASSWD: /sbin/shutdown, /sbin/date, /usr/bin/vnstat
	- CRONUSER ALL = NOPASSWD: ALL
* proteger página con password
	- sudo htpasswd -c /etc/apache2/pwd user
	- Modificar el directorio de /etc/apache2/apache2.conf para que incluya:
		* AuthType Basic
    * AuthName "Restricted Access"
    * AuthUserFile /etc/apache2/pwd
    * Require user svvpa
* Crear directorio motion (ver CONSTANTS para la ubicación) que pertenezca a www-data y motion con permisos 774
* Modificar config/svvpa convenientemente y moverlo a /etc/logrotate.d/



#############
### OTROS ###
#############
* Añadir clave privada en servidor remoto para hacer SSH reverso sin password (para comando email SSH remoto)
* Añadir a crontab los comandos "cron_*" del directorio bin
* Añadir servicio SVVPA-startup-shutdown-notification a /etc/init.d
	- cd /etc/init.d
	- sudo ln -s /var/www/svvpa/bin/SVVPA-startup-shutdown-notification.sh SVVPA-startup-shutdown-notification
	- sudo update-rc.d SVVPA-startup-shutdown-notification defaults 


################
### OPCIONAL ###
################
* autocompletar el servicio SVVPA-service. Para ello:
	- crear alias en .bashrc
		alias svvpa="service SVVPA-service"
	- ln -s /var/www/svvpa/config/svvpa.bash.completion /etc/bash_completion.d/svvpa
	- al escribir svvpa y doble tab se completa con los servicios disponibles
